<h1>NodeJs</h1>

<h2>Node for Networing</h2>
<h3>TCP Networking with the Net Module</h3>

<p>
  Let's create a basic network server. We use the net's module, create server method.
  We then need to register a connection handler that fires every time ad client connects
  to this server. When that happens, let's log to the console and see if the client is connected.
  The handler also gives us access to a connected socket itself. This socket object implements
  a duplex stream interface, which means that we can read and write to it. Let's write "Welcome
  new Client". To run the server we need to listen to a port, and the callback here is just to
  confirm it. Let's test. Testing this is simple, we can use either telnet or netcat.
  For example, nc localhost 8000, we get the client is connected message in the server console, and
  the welcome message is sent to the client, and then node keeps running, because we did not terminate
  that connection. Now the client can write to that socket, but we have not registered a handler to read
  from the socket. The socket being a duplex stream means that it's also an EventEmitter. So we can listen
  to data event on the socket. The handler for this event gives us access to a buffer object. Let's console
  log it. Now when the client types something, we get it as a buffer. This is great, because Node does not
  assume anything about encoding. The user can be typing here in any language. Let's now echo this data
  object back to the user using socket.write. When we do so, you'll notice that the data we are writing back
  is actually a string. This is because the write method on the socket assumes a utf8 encoding here.
  This second argument can be used to control the encoding and the default is utf8. We can also globally
  set the encoding if we need to, so the global encoding is now utf8 and the data argument here becomes
  a string instead of a buffer, because we now told Node to assume a utf8 encoding for anything received
  from this socket. Both the console log line and the echoed data are assumed to be utf8. I'm gonna keep
  an example without global encoding, just in case we need access to the buffer object. What happens
  when the client disconnects? The socket emitter has an on 'end' event that gets triggered when the
  client disconnects? The socket emitter has an on 'end' event that gets triggered when the client disconnects.
  At that point, we can't write to the socket any more. Let's console log that client is disconnected.
  Let's test that now. Connect, and we can disconnect a netcat session with Cmd+D. The server logs the line.
</p>